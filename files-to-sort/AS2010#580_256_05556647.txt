Discovering Patterns on Medication Prescriptions 
 
 
Joana Fernandes 
joanapfernandes@gmail.com 
 
Orlando Belo 
obelo@di.uminho.pt 
 
Department of Informatics, School of Engineering, University of Minho 
Campus de Gualtar, 4710-057 Braga, PORTUGAL 
 
 
 
 
Abstract — Today, electronic prescription in clinical scenarios is 
frequently used to support decision-making tasks and services 
monitoring in public health institutions. The huge amount of data 
that has been stored during last years about medication 
prescriptions makes now possible to apply data mining 
techniques with a significant success to discover patterns that 
could be useful to optimize medical services and resources related 
to medication prescription. Association rules, which are 
frequently used in the analysis of commercial transactions data, 
could be applied usefully on the medical prescriptions area. In 
fact, the idea of discovering medication prescriptions patterns it 
is quite attractive due to the wide range of new applications that 
can be opened to service management and optimisation. In this 
work, we present a study about medication prescriptions in the 
north region of Portugal, in order to discover some relevant 
patterns among medication, doctors and laboratories. 
Keywords — Medication Prescriptions, Data Mining, Discovering 
Medication Prescriptions Patterns, Association Rules, FP-
Growth, and RapidMiner. 
I.  INTRODUÇÃO 
Numa sociedade em constante crescimento e numa era 
considerada como sendo a da informação, a vantagem 
competitiva de uma qualquer organização hoje em dia é 
alcançada de acordo com a sua habilidade de adquirir e 
manusear a maior quantidade de informação pertinente para as 
suas actividades. Essa crescente disponibilidade de dados fez 
com que as organizações começassem a adoptar um novo 
processo de trabalho no seu variadíssimo rol de actividades: o 
da exploração selectiva de dados. Este processo desenvolve-se 
em torno da descoberta de tendências, padrões ou possíveis 
anomalias existentes nos dados armazenados que usualmente 
não estão visíveis através de técnicas convencionais de análise 
[1], o que impossibilita , como é sabido, o desenvolvimento de 
análises pormenorizadas sobre os dados disponíveis. A 
necessidade de exploração dessas tendências e padrões pode 
ser feita através de mecanismos de mineração de dados que 
permitam fazer a extracção de informação relevante 
(possivelmente desconhecida) para as actividades dos 
organismos a que dizem respeito. Com apelo a algoritmos 
sofisticados de análise e processamento intensivo de dados 
esses mecanismos costumam ser eficazes na descoberta de 
padrões de actividade relevantes quando aplicados sobre um 
volume de dados significativo [2]. A introdução do registo 
electrónico na prática clínica, abrangendo todos os passos 
existentes de uma consulta médica, pode servir de apoio à 
tomada de decisão e à monitorização dos serviços prestados 
pelos organismos, quer do ponto de vista do utente, quer do 
ponto de vista dos clínicos [3]. Apesar de existirem poucos 
estudos sobre a avaliação da eficácia desses processos, os 
resultados que se conhecem sobre a utilização de registos 
electrónicos em organismos de saúde sugerem um aumento da 
segurança dos próprios utentes, bem como uma redução de 
gastos em hospitais e em centros de saúde. O Sistema de Apoio 
ao Médico (SAM) foi desenvolvido através de um projecto 
piloto instalado em Portugal no ano de 2000. Através dele é 
hoje possível obter informação relativa ao registo completo de 
uma consulta médica, o que inclui dados sobre o motivo da 
consulta, o diagnóstico do utente em causa, o registo dos 
medicamentos prescritos e os meios complementares utilizados 
na análise clínica do utente [4]. A descoberta de associações 
entre a prescrição de medicamentos e outros factores existentes 
com ela relacionados pode ser realizada através da aplicação de 
técnicas de mineração de dados conhecidas com alguma 
garantia de sucesso, desde que os dados base tenham os 
requisitos essenciais para isso. Em suma, que existam e que 
tenham qualidade. Com essa garantia é possível desenvolver os 
modelos e aplicar as técnicas de mineração mais convenientes 
na procura de padrões de prescrição de medicamentos. O 
objectivo principal era descobrir possíveis associações entre a 
prescrição de medicamentos que nos revelassem eventuais 
relações entre os médicos prescritores e os laboratórios 
associados aos medicamentos prescritos. Em Portugal, a 
realização deste tipo de estudos é ainda bastante reduzida [3,4] 
o que faz com que os resultados deste trabalho sejam bastante 
úteis para qualquer processo de tomada de decisão que envolva 
a prescrição electrónica de medicamentos. 
II. TÉCNICAS E MÉTODOS 
A. Regras de Associação: Uma Visão 
O tópico das regras de associação foi introduzido em 1993 
[5]. Tipicamente, uma regra de associação representa uma 
implicação na forma
€ 
X ? I j , em que 
€ 
X  é um conjunto de 
alguns elementos de 
€ 
I , e 
€ 
I j  um elemento em 
€ 
I  que não está 
presente em 
€ 
X . 
€ 
I  é um conjunto de atributos binários  
€ 
I1,I2,...,In , designados por elementos, e 
€ 
T  um conjunto de 
transacções de elementos. Cada transacção 
€ 
t  é representada 
como sendo um vector binário (tuplo), em que 
€ 
t[k] =1 se na 
transacção 
€ 
t  existir o elemento
€ 
Ik , caso contrário 
€ 
t[k] = 0 . 
Existe apenas um tuplo na base de dados para cada transacção. 
A regra 
€ 
X ? I j  verifica-se num conjunto de transacções 
€ 
T  
com uma confiança de 
€ 
0 ? c ?1, se pelo menos 
€ 
c% das 
transacções em 
€ 
T  que satisfaçam 
€ 
X  também satisfaçam 
€ 
I j . 
Dada uma transacção 
€ 
T , o objectivo é gerar todas as regras 
que satisfaçam duas formas de restrições: sintácticas, que se 
referem às restrições em elementos que poderão aparecer em 
regras, ou de suporte, que correspondem ao número de 
transacções em 
€ 
T  que suportam uma regra [5]. 
O processo de criação de regras de associação pode-se 
dividir em duas fases principais, que representam, 
respectivamente, os dois problemas principais da sua criação. 
Numa primeira fase, é necessário gerar todas as combinações 
de elementos que apresentem um suporte superior ao suporte 
mínimo especificado. Essas combinações são denotadas como 
sendo combinações largas, enquanto que as que não 
apresentem suporte mínimo são consideradas como sendo 
pequenos conjuntos de elementos. Todas as combinação são 
geradas tendo em conta as restrições sintácticas de maneira a 
restringir as combinações geradas [5]. A segunda fase, consiste 
na construção, propriamente dita, das regras. Para um dado 
conjunto de elementos largos, 
€ 
Y = I1I2...Ik,k ? 2 , são 
geradas todas as regras que usem os elementos existentes no 
conjunto 
€ 
I1,I2,...,In . O antecedente de cada uma destas regras 
será um subconjunto 
€ 
X  de 
€ 
Y , tal que 
€ 
X  tem 
€ 
k ?1 
elementos, e o consequente será o elemento 
€ 
Y ? X . Para gerar 
a regra 
€ 
X = I j |c  (na qual 
€ 
c  representa o factor de confiança 
da regra), em que 
€ 
X = I1I2...I j?1I j+1...Ik , é necessário 
calcular a confiança da regra, através da divisão do suporte de 
€ 
Y  pelo suporte de 
€ 
X . Se o resultado for maior que 
€ 
c , então a 
regra é satisfeita com o factor de confiança 
€ 
c , caso contrário a 
regra é descartada. É preciso ter em atenção que, se o conjunto 
de elementos 
€ 
Y  é largo, então todos os subconjuntos de 
€ 
Y  
também são considerados largos e, como tal, é necessário 
conhecer todos os seus suportes na primeira fase. Outra 
condição essencial é que todas as regras derivadas de 
€ 
Y  têm 
que satisfazer as restrições de suporte, pois 
€ 
Y  satisfaz as 
restrições de suporte e é a união de elementos provenientes, do 
consequente e do antecedente, de todas as regras existentes [3]. 
Depois de encontrados todos os conjuntos de elementos 
considerados largos, a segunda fase é processada de maneira 
trivial. Logo, como se constata, o problema encontra-se na 
resolução da primeira fase. Nesta fase, é necessário ter atenção 
às medidas de interesse e ao algoritmo utilizado para descobrir 
o conjunto de elementos largos.  
Resumindo, a aplicação de uma técnica de associação 
produz um conjunto de regras que descreve os padrões 
descobertos nos dados, como por exemplo, tostas
€ 
?manteiga 
[suporte=20% e confiança=75%], em que o suporte representa 
a frequência da existência dessa regra nos dados. 
Consequentemente, quanto maior for o suporte mais prevalente 
é a regra nos dados. Por sua vez, a confiança mede a segurança 
de afirmação da regra. 
B. Regras de Associação aplicadas à Prescrição de 
Medicamentos 
Comparativamente a outros estudos realizados com dados 
relativos a transacções, um medicamento pode ser considerado 
como sendo um elemento de uma transacção, enquanto que a 
prescrição de uma receita pode ser considerada como sendo a 
transacção. Como tal, o objectivo final na aplicação de regras 
de associação à prescrição de medicamentos é praticamente 
igual ao estudo nas transacções, isto é, descobrir se existe 
alguma associação entre a prescrição de um medicamento 
relativamente a outro medicamento prescrito. Com este estudo 
é possível descobrir quais os medicamentos que são 
normalmente prescritos em conjunto e descobrir a sua força de 
relação. Através dos dados relativos à prescrição de 
medicamentos é também possível descobrir possíveis relações 
entre os médicos prescritores e os laboratórios associados aos 
medicamentos prescritos. Este estudo é um pouco pertinente, 
no sentido em que permite descobrir se existe alguma 
tendência dos médicos, relativamente aos laboratórios 
associados aos medicamentos que usualmente prescrevem. 
III. A DESCOBERTA DOS PADRÕES DE PRESCRIÇÃO  
A. As Fontes de Dados 
Todos os dados utilizados neste trabalho foram 
disponibilizados pela Administração Regional de Saúde do 
Norte (ARSN) e são relativos à prescrições de medicamentos 
da Região Norte realizadas entre os dias 1 de Janeiro de 2008 e 
31 de Dezembro de 2008, correspondendo a cerca de 21 
milhões de registos de dados. No entanto, este estudo foi 
limitado a uma amostra de menor dimensão, tendo em 
consideração os centros de saúde e extensões de alguns 
distritos, referenciados como representativos de toda a 
população, no que diz respeito a características de 
desenvolvimento do concelho em que estão inseridos - por 
exemplo, habilitações e nível socioeconómico.  
TABELA I.  CENTROS DE SAÚDE SELECCIONADOS 
Distrito Centros de Saúde 
Aveiro Vale Cambra 
Braga Fafe, Vila Verde e Terras de Bouro 
Bragança Macedo de Cavaleiros e Vinhais 
Porto Paranhos/Vale Formoso, Castelo da Maia, Barão do Corvo e Lousada 
Viana do 
Castelo Darque e Paredes de Coura 
Vila Real Chaves 1 e Stª Marta de Penaguião 
 
Concluindo, a amostra de dados utilizada equivale 
aproximadamente a 10% da amostra inicial dos dados, 
perfazendo um total de 2.261.955 registos. É possível verificar 
pela tabela I todos os centros de saúde seleccionados, 
associados ao seu respectivo distrito. Cada registo é referente a 
cada medicamento prescrito por um médico, associado a um 
código de receita, referente a um determinado utente e a um 
respectivo local e data de prescrição. 
B. O Processo de Descoberta do Conhecimento 
A mineração de dados é encarada como sendo um passo 
específico da descoberta de conhecimento em base de dados – 
Knowledge Discovery in Databases (KDD) -, que, 
essencialmente, consiste na aplicação de algoritmos específicos 
com vista à descoberta de informação pertinente para um 
organismo [6,7]. Apesar da mineração de dados ser 
considerada um passo específico do todo o processo de KDD, é 
aquele que tem recebido mais atenção e assumido particular 
importância quando comparada com o processo global em si. 
No entanto, deve-se referir que nunca se deve esquecer o 
processo global, pois só através da execução de todos os passos 
se consegue obter um resultado credível, com algum impacto 
prático e fornecendo conhecimento reconhecidamente útil [6]. 
Consequentemente, para uma maior qualidade e impacto na 
aplicação das técnicas de mineração de dados, todos os passos 
do processo KDD foram cuidadosamente e meticulosamente 
seguidos neste trabalho, desde a selecção, limpeza, pré-
processamento e transformação dos dados, passando pela 
aplicação da mineração de dados até à consequente 
interpretação e avaliação dos resultados. Assim, numa primeira 
fase foi feita uma análise exploratória dos dados, com o intuito 
de analisar a qualidade dos dados em questão. De seguida, 
tendo em conta a análise realizada e o objectivo final deste 
trabalho, foram aplicados alguns processos de limpeza e 
selecção dos dados, nos quais foram eliminados alguns 
registos, por incongruências ou por estarem associados a 
“medicamentos” irrelevantes para os estudos que se pretendia 
realizar.  
Após a realização destes processos foi implementado um 
sistema de dados capaz de responder de forma mais adequada 
às necessidades impostas pela utilização de técnicas de 
mineração de dados e às várias perspectivas de análise 
apresentadas pelos gestores do organismo em questão. Como 
tal, foi implementado um pequeno sistema de data 
warehousing capaz de acolher tais estruturas e suportar futuros 
processos de análise e de tomada de decisão. O povoamento 
deste sistema foi dividido em três fases. Numa primeira fase, os 
dados foram extraídos das fontes operacionais e integrados 
numa área de retenção de dados onde  foram sujeitos a diversas 
transformações, como definições e validações de chaves 
estrangeiras ou gestão de chaves de substituição. Por fim,  
procedeu-se à passagem dos dados da área de retenção para o 
data warehouse implementado. Na realidade cumpriu-se 
simplesmente as tarefas mais elementares para a integração de 
dados num data warehouse. O sistema de data warehousing 
implementado desenvolve-se em torno de um esquema estrela 
que integra 6 dimensões de análise, nomeadamente: 
• DimTempo: Serve de marca temporal relativamente à 
prescrição dos medicamentos, sendo composta por 
atributos que actuam como marcadores temporais.  
• DimPeriodo: Apesar de estar numa dimensão à parte 
da dimensão tempo, esta dimensão é também um eixo 
de análise temporal, que permite analisar se uma 
prescrição foi realizada num período diurno (das 8h às 
20h) ou nocturno (das 20h às 8h).  
• DimMedico: Dmensão que integra a informação dos 
médicos prescritores. 
• DimLaboratorio: Toda a informação dos laboratórios 
existentes é guardada nesta dimensão. 
• DimUtente: É guardado todo o tipo de informação que 
está directamente relacionada com o utente. 
• DimMedicamento: A informação relativa aos 
medicamentos é guardada nesta dimensão.  
Além destas 6 dimensões, a tabela de factos integra mais 9 
dimensões degeneradas e por 1 medida, que representa o 
número total de medicamentos receitados por registo. O grão 
do data mart em questão corresponde aos medicamentos 
prescritos por um médico, a um dado utente, num respectivo 
local e numa dada data, período e hora.  
C. Software Utilizado e Fontes de Dados 
Por uma questão de estratégia de desenvolvimento e 
facilidades de instalação e exploração, neste trabalho foram 
utilizadas, essencialmente, ferramentas open-source. Os dados 
foram recolhidos em formato .txt e integrados numa base de 
dados específica implementada em MySQL v5.1. Este sistema 
acolheu também o data warehouse que foi construído 
especialmente para suportar os processos de mineração 
projectados. Para a aplicação da mineração de dados ao modelo 
de dados final foi utilizado o RapidMiner v4.5 por ser uma 
ferramenta que apresenta uma grande variedade de opções, 
sejam elas relativas a algoritmos implementados ou a 
operações de pré-processamento dos dados. O facto de ser 
totalmente implementada em Java, permite o estabelecimento 
de ligações directas à base de dados através do conector JDBC 
(Java Database Connectivity). O grande inconveniente desta 
ferramenta é a excessiva necessidade de memória que requer, 
característica esta que se torna bastante notória ao trabalhar 
com um conjunto de dados com uma dimensão considerável. 
IV. RESULTADOS OBTIDOS 
O algoritmo de associação utilizado foi o FP-Growth 
(Frequent Patttern Growth) [8]. A escolha deste algoritmo 
recaiu no facto de apresentar algumas vantagens em termos de 
implementação e de funcionamento quando comparado com o 
Apriori [9]. A eficiência deste algoritmo é conseguida através 
da aplicação de três métodos [8]: 
• Uma base de dados de grande dimensão é compactada 
numa estrutura bastante menor e mais condensada, que 
evita custos adicionais nos vários varrimentos a 
executar sobre a base de dados. 
• A estrutura FP-Tree adopta um método de padrão de 
crescimento fragmentado que previne custos adicionais 
na criação de elevados conjuntos de candidatos. 
• O método de partição com base no algoritmo divide-
and-conquer reduz drasticamente o espaço de procura. 
Uma grande vantagem do FP-Growth consiste no facto de 
só ser necessário duas passagens pela base de dados. Na 
primeira passagem, todos os conjuntos frequentes e o seu 
respectivo suporte são calculados e guardados pela ordem 
descendente de suporte em cada transacção. Na segunda 
passagem, os conjuntos de cada transacção são juntos num 
prefixo da árvore e são contados os conjuntos (nodos) comuns 
em diferentes transacções. Cada novo nodo é associado a um 
elemento e, depois, é realizada a contagem para esse nodo. Os 
nodos comuns são ligados por um apontador designado node-
link. Devido ao facto, de os elementos estarem distribuídos 
descendentemente pelo valor de suporte, os nodos perto da raiz 
do prefixo da árvore são os mais comuns nas transacções. Em 
suma, a escolha deste algoritmo provém, essencialmente, de 
que comparativamente com o Apriori o FP-Growth apresenta 
custos computacionais mais baixos e por ser um algoritmo 
confiável na descoberta de padrões frequentes sejam eles 
pequenos ou grandes [10,11,12].  
 Neste trabalho foram realizados dois estudos diferentes na 
aplicação das regras de associação ao modelo de dados. Um 
relativo à associação entre os medicamentos prescritos e outro 
relativo à possível relação entre as prescrições dos médicos e 
os laboratórios prescritos. Ambos os estudos serão 
apresentados separadamente, devido ao caso de haverem 
pequenas diferenças, tanto nas medidas de avaliação de regras 
usadas, mas também nos eixos de análise necessários. 
A. Associação entre os Medicamentos Prescritos 
O principal objectivo deste estudo era descobrir eventuais 
associações entre as várias prescrições de medicamentos, ou 
seja, sabe quando o medicamento 
€ 
X  é prescrito em conjunto 
com o medicamento 
€ 
Y . Como referido, para fazer esse 
trabalho de descoberta utilizámos o algoritmo FP-Growth que 
para trabalhar correctamente precisa de um formato de dados 
especial: os dados têm de estar agrupados pela transacção e no 
formato binomial. Consequentemente, foi necessário fazer 
algum trabalho de pré-processamento de dados, em especial 
fazer o seu agrupamento com base nas transacções realizadas  - 
neste caso, isso corresponde ao código da receita em questão. 
Como é especificado inicialmente, cada registo corresponde a 
um medicamento receitado apenas, independentemente de na 
receita associada for receitado mais do que um medicamento. 
A resolução deste problema foi feita através de uma função já 
existente na biblioteca do MySQL, a função 
GROUP_CONCAT(). Através desta função os medicamentos 
foram agrupados, por receita, optando-se por fazer a sua 
separação através de uma vírgula. De seguida foi necessário 
transformar os dados agrupados para o formato binomial 
através do RapidMiner - nesta ferramenta existe um operador 
designado “Split”, capaz de transformar os dados agrupados 
nominais em formato binomial, apenas é necessário informar 
qual o atributo em causa (medicamentos) e qual o separador 
(vírgula). É preciso ter também atenção ao parâmetro 
split_mode que deverá estar a unordered_split, uma vez que 
este é o principal parâmetro responsável pela transformação 
dos dados para o formato desejado. Depois dos dados já se 
encontrarem no formato transaccional desejado, foi necessário 
aplicar os operadores responsáveis para a descoberta de regras 
de associação: primeiro o operador “FPGrowth”, que é 
responsável por descobrir os conjuntos frequentes, tendo 
sempre em consideração o suporte mínimo imposto; e de 
seguida o “AssociationRuleGenerator”, que transforma os 
conjuntos frequentes em regras, com base na medida de 
avaliação escolhida.  
Para este estudo, o suporte mínimo definido foi de 0.001, 
devido ao elevado número de registos e da cardinalidade de 
medicamentos existentes. A medida de avaliação escolhida na 
criação de regras foi a medida lift, tendo sido imposto que 
apenas as regras com um lift superior a 50 seriam apresentadas. 
Isto indica que na regra 
€ 
A? B , o aparecimento do elemento 
€ 
A , encontra-se associado ao aparecimento do elemento
€ 
B. De 
notar, que esta medida é uma medida simétrica [13], ao 
contrário da confiança, e devido a esta característica é que foi 
utilizada esta medida, pois a associação de dois ou mais 
medicamentos não depende em nada da ordem de prescrição de 
cada um deles.  
TABELA II.  UMA AMOSTRA DAS REGRAS DE ASSOCIAÇÃO OBTIDAS  
(DISTRITOS/MEDICAMENTOS) 
Regras de Associação 
Distritos 
Regras Suporte Lift 
Adalgur N ? Arthtotec 0.001 67.92 
Aveiro 
Vigantol ? Cebiolon 0.002 444.1 
Ben-U-Ron ? Brufen Suspensão 0.001 55.15 
Atrovent Unidose ? Ventilan 0.002 94.22 Braga 
Vigantol ? Cebiolon 0.001 248.5 
Bragança Vigantol ? Cebiolon 0.001 436.5 
Ben-U-Ron ? Brufen Suspensão 0.002 54.26 
Atrovent Unidose ? Ventilan 0.002 73.99 
Relmus ? Voltaren 0.003 113.0 
Vigantol ? Cebiolon 0.003 169.6 
Porto 
Profenid ? Relmus 0.001 69.72 
Atrovent Unidose ? Ventilan 0.001 104.2 
Relmus ? Voltaren 0.002 172.7 Viana do Castelo 
Profenid ? Relmus 0.001 188.5 
Atrovent Unidose ? Ventilan 0.002 105.8 
Vila Real 
Vigantol ? Cebiolon 0.002 302.7 
 
Concluindo, a medida lift é uma medida simétrica, que 
mede a co-ocorrência de dois ou mais medicamentos [10] - o 
objectivo neste estudo. 
Os resultados obtidos podem ser vistos na tabela II. Estes 
encontra-se separados por distritos, devido às limitações de 
memória RAM da máquina. Como foi mencionado em cima, a 
ferramenta RapidMiner necessita de uma grande quantidade de 
memoria na execução de alguns operadores. E neste caso, 
devido ao excesso de registos, a utilização do operador “Split” 
só pôde ser possível realizando estudos individuais para cada 
um dos diferentes distritos.  
B. Relação entre as Prescrições dos Médicos e os 
Laboratórios  
No estudo da relação entre as prescrições dos médicos e os 
laboratórios prescritos associados aos respectivos 
medicamentos foi necessário, também, transformar os dados 
para o formato transaccional. Consequentemente também aqui  
foi utilizada a função GROUP_CONCAT(), mas desta vez 
foram agrupados os médicos e os laboratórios associados pelos 
respectivos códigos de receita associados. Conclusão, no final 
da aplicação desta função aos dados, foi obtido uma tabela com 
três campos, um relativo ao código de receita, outro relativo ao 
médico associado a essa receita e um último campo com o(s) 
respectivo(s) laboratório(s) associados ao(s) medicamento(s) 
receitado(s). Devido à existência deste dois eixos de análise 
(médicos e laboratórios) foi necessário utilizar dois operadores 
“Split” em vez de apenas um como se viu no primeiro estudo, 
em que cada um foi responsável por transformar os dados, 
correspondente a cada eixo, do formato nominal para binomial. 
A definição dos parâmetros para ambos os operadores “Split” é 
análogo à definição dos parâmetros para o primeiro estudo. 
TABELA III.  UMA AMOSTRA DAS REGRAS DE ASSOCIAÇÃO OBTIDAS 
(MÉDICOS/FARMACÊUTICAS) 
Regras de Associação 
Regras Suporte Confiança 
Med_819674 ? Sanofi Aventis 0.001 0.200 
Med_219975 ? Sanofi Aventis 0.001 0.200 
Med_458534 ? Sanofi Aventis 0.001 0.203 
Med_13734 ? Sanofi Aventis 0.001 0.203 
Med_989878 ? Sanofi Aventis 0.001 0.207 
Med_366277 ? Sanofi Aventis 0.001 0.207 
Med_6370 ? Sanofi Aventis 0.001 0.208 
Med_162131 ? Sanofi Aventis 0.001 0.208 
Med_77941 ? Sanofi Aventis 0.001 0.209 
Med_812629 ? Sanofi Aventis 0.001 0.211 
Med_576377 ? Sanofi Aventis 0.002 0.212 
Med_989879 ? Lab. Pfizer 0.002 0.212 
Med_140121 ? Sanofi Aventis 0.002 0.214 
(...) (...) (...) 
Obs.: Os códigos dos médicos apresentados foram cifrados por forma a salvaguardar a sua identidade. 
 
Após estes passos de pré-processamento aplicámos o 
algoritmo FP-Growth ao modelo de dados final e seguidamente 
o operador mencionado em cima para a geração de regras, 
através dos conjuntos frequentes encontrados. Devido à 
cardinalidade do número de laboratórios e médicos ser bastante 
inferior à cardinalidade dos medicamentos, foi possível 
apresentar os resultados em conjunto, ou seja, não foi 
necessário dividir o estudo em estudos mais pequenos 
divididos pelos distritos. Os resultados obtidos (tabela III) têm 
como suporte mínimo 0.001 e, para este estudo em particular, 
foi utilizada como medida de criação de regras a confiança. 
Neste caso a confiança apresenta uma medida com muito mais 
significância, devido ao facto do nosso objectivo ser descobrir 
se existe alguma relação entre a prescrição dos médicos e os 
laboratórios prescritos. Isto é, uma regra do tipo
€ 
A? B  
significa que o médico 
€ 
A  prescreve o laboratório 
€ 
B com 
€ 
c% 
de confiança, independentemente do laboratório 
€ 
B  ser 
prescrito por outros médicos diferentes [3]. Logo, o 
antecedente da regra não tem praticamente efeito na ocorrência 
do consequente da regra. A confiança mínima imposta foi de 
0.20, pois o facto de 20% das prescrições de um determinado 
médico serem relativas a um determinado laboratório, é já 
considerado algo razoavelmente interessante. 
 
V. CONCLUSÕES E TRABALHO FUTURO 
Neste trabalho apresentámos um estudos sobre a descoberta 
de padrões de prescrição de medicamentos na região Norte de 
Portugal, apelando a técnicas de mineração de dados, mais 
propriamente às relacionadas com a descoberta de regras de  
associação em sistemas de dados. Do conjunto de dados 
disponibilizado inicialmente pela ARSN apenas se utilizaram 
cerca de 10% dos registos desse volume, uma vez que o estudo 
a desenvolver envolvia apenas um conjunto seleccionado de 
centros de saúde. Todavia, os dados considerados nos estudos 
realizados foram claramente suficientes para a aplicação 
efectiva dos modelos e das técnicas de mineração desejadas 
para o nosso organismo alvo. Os resultados foram já 
apresentados à entidade responsável pela disponibilização dos 
dados, a ARSN, que interessantemente, concluiu a veracidade 
prática de alguns dos resultados apresentados neste artigo. 
Apesar de ser ainda um primeiro trabalho de análise – um 
pouco superficial em alguns aspectos – permitiu fazer a 
descoberta de alguns padrões muito interessantes e revelar 
alguns casos interessantes que merecem, com certeza, maior 
reflexão que a que foi dada por este trabalho. Assim, refira-se 
que no primeiro estudo seria bastante interessante no futuro 
alargar o seu âmbito a mais distritos. Apesar de inicialmente 
termos pretendido todo o conjunto de dados em geral, isso não 
foi possível devido às limitações das plataformas 
computacionais utilizadas. Relativamente ao segundo estudo, 
os resultados são um pouco influenciados por um dos 
problemas da base de dados: a descrição dos laboratórios. Isto 
é, o laboratório Sanofi Aventis, por exemplo, é um laboratório 
que produz medicamentos em quase todas as áreas de saúde, e 
nesse caso, a diferenciação do nome na descrição do 
laboratório na base de dados, iria, com certeza, permitir uma 
maior informação e menor ambiguidade na interpretação dos 
resultados por laboratório – ex.: apesar de na tabela III os 
laboratórios relativos à descrição Sanofi Aventis terem o 
mesmo nome, isso não significa que sejam o “mesmo” 
laboratório. 
Facilmente se verifica que, este trabalho ainda tem uma 
grande margem de progressão e isso seria algo realmente a ter 
em conta num futuro próximo. A aplicação de técnicas de 
mineração de dados na área da saúde tem apresentado 
resultados bastante interessantes e fornecedores de bastante 
informação pertinente. Assim, o estudo em dados relativos à 
prescrição de medicamentos, não só vem colmatar uma grande 
falta de estudos nesta área, mas também pode ser responsável 
por um conjunto de informação de grande utilidade para o 
mundo real e para a rentabilização dos serviços dos organismos 
de saúde. 
AGRADECIMENTOS 
Queríamos deixar expressos os nossos agradecimentos à 
ARSN pela disponibilização dos dados utilizados neste 
trabalho e pela ajuda fornecida ao longo da sua realização. 
REFERÊNCIAS 
[1] M. Lloyd-Williams, J. Jenkins, H. Howden-Leach, R. Mathur, I. Cook e 
C. Morris, “Knowledge Discovery in an Infertility Database Using 
Artificial Neural Networks,” IEE Colloquium on Knowledge Discovery 
in Databases , vol. 21, pp. 1–3, February 1995.  
[2] S. Sumathi e S. N. Sivanandam, “Introduction to Data Mining and its 
Applications (Studies in Computational Intelligence),”  Springer-Verlag 
New York, Inc., 2006. 
[3] A. Tomé, P. Broeiro e A. Faria-Vaz, “Os Sistemas de Prescrição 
Electrónica,” Associação Portuguesa dos Médicos de Clínica Geral, vol. 
24, pp. 632–640,  2008. 
[4] C. M. Carvalho, “Prescrição de Antibióticos nos Centros de Saúde da 
Região de Saúde do Norte: Padrão e Variabilidade Geográfica,” 
Dissertação de Mestrado pela Faculdade de Medicina – Universidade do 
Porto, 2008. 
[5] R. Agrawal, T. Imielinski e A. Swami, “Mining Association Rules 
between Sets of Items in Large Databases,” SIGMOD ’93: Proceedings 
of the 1993 ACM SIGMOD International Conference on Management 
of Data, vol. 12, pp. 207–216, 1993. 
[6] U. Fayyad, G. Piatetsky-Shapiro e P. Smyth, “The KDD Process for 
Extracting Useful Knowledge from Volumes of Data,” Communications 
of the ACM, vol. 39, pp. 27–34, 1996. 
[7] U. Fayyad, G. Piatetsky-Shapiro e P Smyth, “From Data Mining to 
Knowledge Discovery in Databases,” AI Magazine, vol. 13, pp. 37–54, 
1996. 
[8] J. Han, P. Jian e Y. Yin, “Mining Frequent Patterns without Candidate 
Generation,” SIGMOD ’00: Proceedings of the 2000 ACM SIGMOD 
International Conference on Management of Data, pp. 1–12, 2000. 
[9] Wu et al. 2008, “Top 10 Algorithms in Data Mining,” Knowledge and 
Information Systems, vol. 14, pp. 1–37, 2008. 
[10] J. Han e M. Kamber, “Data Mining: Concepts and Tecnhiques (2nd  
Edition),” Morgan Kaufmann, 2006. 
[11] J. Hipp, U. Güntzer e G. Nakhaeizaadeh, “Algorithms for Association 
Rule Mining – A General Survey and Comparison,” ACM SIGKDD 
Explorations Newsletter, vol. 2, pp. 58–64, 2000. 
[12] Z. Zheng, R. Kohavi e L. Mason, “Real World Performance of 
Association Rule Algorithms,” KDD ’01: Proceedings of the seventh 
ACM SIGKDD International Conference on Knowledge Discovery and 
Data Mining, pp. 401–406, 2001. 
[13] M. Hashler e K. Hornik, “New Probabilistic Interest Measures for 
Association Rules,” Intelligent Data Analysis, vol. 11, pp. 437–455, 
2007. 
 
