 
Proceedings of the 8th 
World Congress on Intelligent Control and Automation 
July 6-9 2010, Jinan, China 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                      978-1-4244-6712-9/10/$26.00 ©2010 IEEE  
 
Study of Abnormal Events Relevance in Process Industry 
Based on Sequences Pattern Mining 
Yanqing Lui1,2, Jianmin Gao1, Zhiyong Gao1 and Yingsheng Ji1 
1) State Key Laboratory for Manufacturing Systems Engineering, Xi'an Jiaotong University, Xi’an, Shaanxi, China (lyq.xjtu@stu.xjtu.edu.cn) 
2) Academy of Information Technology, Luoyang Normal University, Luoyang, Henan, China (lyq.xjtu@stu.xjtu.edu.cn) 
 
Abstract—By analyzing the relevance and coupling of abnormal events in process industry, this paper studies the feasibility, 
research background and important parameters of abnormal events sequences pattern mining based on chemical plants’ DCS alarm 
data. According to the temporal relevance of the abnormal events, by adding time properties of abnormal events and improving the 
efficiency of the algorithm, we design and implement TFPG algorithm based on FP-Growth, which fetches temporal relevance rules 
from alarm data. Finally, the techniques we proposed are validated by analyzing the alarm data of accidents of a coal chemical group. 
Keywords—sequences pattern mining, FP-Growth, abnormal events relevance 
???????????????????? 
??? 1,2 ??? 1 ??? 1 ??? 1 
1) ?????????????????????????????? 
2) ????????????????????? 
? ?  ?????????????????????????????? DCS ???????????????????????
???????????????????????????????????? FP-Growth ?????????????????
?????????????????? TFPG ??????????????????????????????????????
?????????????????????????????? 
???  ??????  FP-Growth  ?????????
? 
1 ?? 
??????????????????????
?????????????????????????
?????????????????????????
?????????????????????????
?????????????????????????
?????????????????????????
?????????????????????????
?????????????????????????
?????????? 
?????? DCS ??????????????
?????????????????????????
?????????????????????????
?????????????????????????
                                                        
??? 863 ?????????2007AA04Z432?????????
????????????2009B520022? 
???????????????????DCS ????
?????????????????????????
?????????????????????????
?????????????????????????
?????????????????????????
?????????????????????????
?????????????????????????
????????????? 
 
2 ?????? 
 
2.1 ?????? 
???????????????????????
?????????????????? Apriori ????
? FP-Growth ??[1]????????????????
??? Apriori ??[2]????????????????
?????????? Agrawal ? Srikant[3]??????
5692
??????????? AprioriAll??????????
???????????????Han JW[4]??????
??????? FP-Growth ?????[5]???????
?????????????????????????
???PrefixSpan[6]??? FP-Growth ?????????
????????????????????????
Apriori ??????????????????????
???Antunes[7]???????????????
SPARSE ??? 
 
2.2 ????????? 
??????????????????????
?????????????????????????
????????????? 
1?????T  
???????????????????????
?????????????????????????
????????? 2:13 ? 3:15 ???????????
?????????????????????????
??????? 
2??????W  
??????????????????????
?????????????????????????
?????????????????????????
1?? 
????(win )????????????????
?????????????????????????
?????????????????????????
???????????????????????? 
????( step )???????????????
?????????????W ???????????
?????? D?????????????????
?????????????????????????
??? W ??????? ( ), ,W S win step= ????S
?????T ???????win??????step??
???????????????????????
( )1 2, , , nR f W W W= " ? R ?????????? n?
???????? 
 
? 1  ???????????????? 
3????? 
????????? Apriori ??? FP-Growth ??
???????????[7]?????????????
Apriori ????????????? FP-Growth ????
?????????????????????????
????????????? TFPG ????????
FP-Growth ????????????? 
 
3  ???????? TFPG???? 
???????????? TFPG?Temporal Frequent 
Pattern Growth????? FP-Growth ?????????
??????????????????? DCS ????
??????????????????????????
TFPG ???????????????????????
??? FP-Tree ??????????????????
?????????????????????????
????????????????????????
FP-Tree??????????????? 
 
3.1 ?? FP-Tree 
TFPG ????????????????????
?????????????????? FP-Tree ???
???????????????? FP-Tree ?????
?????????????????? FP-Tree????
?????????????????????????
?? 
 
3.1.1 ?????????? FE  
???????????????????????
?????????????????????????
???????????????? 
???????? FP-Tree ?????? FP-Growth
?????????????????????????
?????????????????????????
?????????(node-head)???????????
??????????(node-link)???????????
?????FP-Growth ???????????????
???????????????????? node-head
?????????????????????????
?? FP-Tree ?????? 
???????????????????????
???????(node-tail)??????????????
?????????????????????????
?????????? TFPG ????????????
5693
?? FE ??????????(item-name)?????
(support-count) ? ? ? ? ? (node-head) ? ? ? ? ?
(node-tail)? 
 
3.1.2 ???????????? FP-Tree 
?? FP-Tree ???? root???? null?????
??????????? FP-Tree???????????
?????????????????????????
??????????????????????????
?????????????????????????
??????????????????????TFPG
???????????????????? 
?? FP-Tree ????? FP-Growth ???????
?? FP-Growth ??????????????????
?????????????????????????
?????????????????????????
?????????????????????????
???????? FP-Growth ????????????
?????????????????????????
????????????????? FP-Tree ????
?????????????????????????
?????????????????????????
? TFPG ??????? FP-Tree ????(TreeNode)??
? ? ? ? ? ? ? ? ? ? ? node-name ?? ? ? ? ?
?node-count????????node-link???????
?node-parent????????node-child???????
?time-head?? 
 
3.2 ???????? 
???????????????????????
??????????? 1 ?????????????
?????????????????????????
?????TFPG ????? Apriori ?????????
?????????????????????????
????? FP-Growth ??????? FP-Tree ????
?????????????????????????
???????????????(1)????? FP_Tree?
(2)????? minSup?(3)???????? FE ????
??????? FPset? 
FPMining ( *FP_Tree, minSup, FE ) 
(1)  for each Fitem E?        //?????????? 
(2)    for (*q = item.node-head; q != null; q = q.node-link) 
(3)      if ( q.node-child is null){     //??????? 
(4)        for (*p = q;  p.name!=’root’; p=p.node-parent) { 
(5)           if (p.node-count ?  minSup){ 
(6)                new Sq = getFrequentSet(p) 
(7)                Sq ?FPset, break; 
(8)           } 
(9)     } 
(10)      } 
(11)  return FPset 
 
3.3 ?????????? 
??????????????????? allP ??
?????????????????????????
????????? 
, ,allX Y P X Y? ? ?  
if  
( )
( )
count Y minconf
count X
? ?
 then  X Y?  ??
??????? 
 ??????????????????????????
??? 1? 
? 1  ??????????? 
??
??
??? 
??
??
( ) ( )i j j icount E E count E E  ?  ?????
????? i jE E?  
??
??
( ) ( )j k k jcount E E count E E?  ?  ?????
????? |j kE E  
 
???????????????????????
?? 1 ??????????????????? 2Sq ?
????? 2 ?????????? 2P ????(3)???
?? 2P ?? 3 ?????????? 3P ????????
????? k ?????????????????(6)?
5694
??????????? 1kP ? ????????????
kP ????? 2P ??? A|B ????????????
?? 3Sq ?????????? minconf ???????
??A|B?ÆC ???????????????????
???? allP ( 1 2 3 1....all k kP P P P P P?= ? ? ? ? ? )? 
???????????????????????
? FPset??????????? allP ? 
CreateTFP ( FPset ) 
(1)  for each Sq FPset?  
(2)      Sq=Sq.sortByTime()        //??????? 
(3)   2P = Sq2.createRule_ByRelation(minconf)    //??
? 1 ?????? 
(4)  for ( k = 3; kP ? ? ; k++) { 
(5)     for each 1i kE P ?? { 
(6)      1. ( , )k k kP P createRule_ByRelation Sq minconf?=  
(7)    } 
(8)    k allP P?  
(9)  } 
(10)  return allP  
 
4 ?????????? 
 
4.1 ?????? 
??????????????????????
????????????????? 24 ???????
??????? 2004 ? 5 ? 5 ? 13?14 ???????
?????????????????????? 
???????5 ? 4 ?????????????
??????????5 ? 5 ??? 10:52 ???????
?????????????????????????
?????????? EA401 ????????????
?????????????????????????
?????????? 12:06 ????????????
?????????12:20 ???EA401 ????????
???????????????????? DA401 ??
?????????????????????????
??????????? 
???????????? 189 ?????? 11 ??
??????????????? CS3000 DCS ?????
???????????? DCS ???????????
????????? 2004 ? 5 ? 5 ? 12:00:01 ? 2004 ?
5? 5? 13:16:27???????????????????
????? 1285??????????? 109??????
??????????????????????????
?????????????????????????
?????????????????????????
????????????????????? 56 ???
?????????????? 1229 ?????? 
 
4.2 ????????? 
??????????????????????
?????????????????????????
????? TFPG ?????????????????
?? 
???????????????????????
?????????????????????????
?? 
???????????????5?6?7?8?9?
10?11?12?13??????????( /win step )?180
?/90 ??200 ?/100 ??220 ?/110 ??240 ?/120 ??
???????????????? 2 ??? 
 
? 2  ????????????????????????? 
 
?? 3 ????????????????????
?????????????????????????
5695
???????????? 7 ????????????
??????????? 500 ????????????
??????????????????????????
?????????????????????????
?????????????????????????
?????????????????????????? 
???????????????????????
????? 
??????? 240 ??????? 120 ?????
??????????????? 10??????????
????? 152 ???????? 
??????????? EA401 ? DA401 ????
?????????????????????????
???[8]?????????? LCA7401(EA401B ??
?)??? PCA7401(DA401 TOP ???)?LCA7104(DA401 
BOTTOM ????) ?? LCA7403(DA401 MIDDLE ?
??)???????????????????? 
PCA7402 | LCA7104 | HC7101       17 
PCA7401 | LCA7104 | HC7101       13 
LCA7403 | LCA7104 | HC7101       12 
??????????? HC7101 ????????
?????????????????????????
??????? PCA7401 ?? LCA7104 ???????
???????? EA401 ???? DA401 ??????
?????? 
??????????? 0.8??????????
?????????? 297 ???????? 3 ??? 
 
? 3  ???????? 
 
???? 297 ?????????? EA401 ?
DA401 ????????????? LCA7104 | PCA7202 | 
HC7101 Æ F7827AL (??? 0.917)??????????
12:20 ??????? DA401 ??? PT7401 ??????
? DA202 ????(?? PCA7202)?SV201 ??????
?(?? F7827AL)?????????????????
?? 
???????????????????????
?????????????????????????
?????????????????????????
?????????????????????????
?????????????????????????
?????????????????????????
??? 
 
5 ??? 
???????????????????????
?????????????????????????
???????????????????????
FP-Growth ????????????????????
??? TFPG ???????????????????
?????????????????????????
?????????????????????????
?????????????????????????
?????????????????????????
???????????????????????[8]?
?????????????????????????
???? 
 
???? 
[1] Sotiris Kotsiantis, Dimitris Kanellopoulos. Association Rules 
Mining: A Recent Overview. International Transactions on 
Computer Science and Engineering, 2006, 32(1): 71-82 
[2] Agrawal R, Imielinski T and Swami A. “Mining association rules 
between sets of items in large databases” in Proceedings of the 
1993 ACM SIGMOD International Conference, Washington 
D.C, 1993, pp. 207-216. 
[3] Agrawal R and Srikant R. “Mining sequential patterns” in 
Proceedings of the 11th International Conference on Data 
Engineering. Tapei: IEEE Computer Society, 1995, pp. 3-14. 
[4] Han JW, Pei J and Yin YW, et al. “Mining frequent patterns 
without candidate generation” in Proceedings of the ACM 
SIGMOD International Conference on Management of Data, 
Dallas, 2000, pp. 53-87. 
[5]  Aiman Moyaid Said, Dr. P D D. Dominic, Dr. Azween B 
Abdullah. A Comparative Study of FP-growth Variations. 
5696
International Journal of Computer Science and Network Security, 
2009, 9(5): 266-272 
[6] Pei J and Han JW, Mortazavi-Asl B, et al. “PrefixSpan: Mining 
Sequential Prefix-projected Pattern Growth” in Proceedings of 
the 17th International Conference on Data Engineering, 
Heidelberg, Germany, 2001, pp. 215-226. 
[7] Antunes C and Oliveira AL. “Sequential pattern mining 
algorithms: trade-offs between speed and memory” in  
Proceedings of the 2nd International Workshop on Mining 
Graphs, Trees and Sequences, Pisa, Italy, 2004, pp. l-12. 
[8] ???, ???, ????. ??????????????
???????. ??????????2009,15(4)?791~796 
5697
